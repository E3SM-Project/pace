{% extends "layout.html" %}
{%block topscripts%}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="/static/js/jquery.tablesorter.js"></script>
	<script src="/static/js/jquery.tablesorter.widgets.js"></script>
	<!--<script src="/static/js/jquery.tablesorter.pager.js"></script>-->
	<link rel="stylesheet" href="/static/css/tablesorter/style.css" />
	<!--<link rel="stylesheet" href="/static/css/jquery.tablesorter.pager.css"/>-->
<style>
.link{
    margin-left:5px;
}
</style>
{%endblock%}

{% block content %}
<div id="tInsert"></div>
<script>
var experiments=[{"expID":-1,"lid":-1}];
var extensions=[{"expID":-1,"rank":"0000"}];
{{expS|safe}};
{{expE|safe}};

function makeTable(){
    let total='<form action="mt" method="post"><table id="expTable" class="tablesorter"><thead><tr><th>Experiment LID</th><th>Timing Files</th></tr></thead><tbody>';
    experiments.forEach((element,index)=>{
        total+="<tr><td>"+element.lid+"</td><td>";
        for(let i=0;i<extensions.length;i++){
            if(element.expID == extensions[i].expID)
                total+="<a class='link' href='/mt/"+extensions[i].expID+'/'+extensions[i].rank+"';submitButton.click()'>"+extensions[i].rank+"</a>";
        }
        total+="</td></tr>";
    });
    return total+"</tbody></table></form>";
}
document.head.innerHTML+=""
$(document).ready(function(){
tInsert.innerHTML+=makeTable();
$("#expTable").tablesorter({
	widgets: ['zebra'], 
	theme: 'blue',
	widthFixed: true
	});
});
</script>
{% endblock %}
